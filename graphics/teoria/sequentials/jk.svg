<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="-28 -60 160 120">
 <title>JK flip-flop NAND</title>
 <desc>A JK flip-flop made of NAND gates, drawn by CMG Lee.</desc>
 <defs>
  <g id="nand" stroke="#000000">
   <path d="M 0,-15 H 5 C 23,-15 23,15 5,15 H 0 Z"/>
   <circle cx="22" cy="0" r="3"/>
  </g>
  <g id="nands">
   <use xlink:href="#nand" transform="translate(30,-40)"/>
   <use xlink:href="#nand" transform="translate(65,-35)"/>
   <use xlink:href="#nand" transform="translate(30,40)"/>
   <use xlink:href="#nand" transform="translate(65,35)"/>
  </g>
  <g id="nands_arrow">
   <use xlink:href="#nands"/>
   <path d="M 170,0 h 20 m -10,-10 l 10,10 l -10,10" stroke="#999999" stroke-width="8"/>
  </g>
  <circle id="dot" cx="0" cy="0" r="1"/>
  <g id="c">
   <path d="M 0,0 H 10 M 30,-40 H 10 V 40 H 30"/>
   <use xlink:href="#dot" transform="translate(10,0)"/>
  </g>
  <path id="j" d="M 0,-50 H 30"/>
  <path id="j_" d="M 55,-40 H 65"/>
  <g id="q">
   <path d="M 90,-35 H 110 M 100,-35 V -10 L 55,10 V 30 H 65 M 55,10 H 20 V 30 H 30"/>
   <use xlink:href="#dot" transform="translate(100,-35)"/>
   <use xlink:href="#dot" transform="translate(55,10)"/>
  </g>
  <use id="k"  xlink:href="#j"  transform="scale(1,-1)"/>
  <use id="k_" xlink:href="#j_" transform="scale(1,-1)"/>
  <use id="q_" xlink:href="#q"  transform="scale(1,-1)"/>
 </defs>
 <g font-family="sans-serif" font-size="24" letter-spacing="-1" text-anchor="start" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="none" fill="none">
  <use xlink:href="#c"  stroke="#000000"/><text x="-1" y="0"   dy="0.6ex" text-anchor="end" fill="#000000" transform="scale(0.5,0.75)">clock</text>
  <use xlink:href="#j"  stroke="#000000"/><text x="-5" y="-50" dy="0.6ex" text-anchor="end" fill="#000000">J</text>
  <use xlink:href="#k"  stroke="#000000"/><text x="-5" y="50"  dy="0.6ex" text-anchor="end" fill="#000000">K</text>
  <use xlink:href="#q"  stroke="#000000"/><text x="112" y="-35" dy="0.6ex" fill="#000000">Q</text>
  <use xlink:href="#q_" stroke="#000000"/><text x="112" y="35"  dy="0.6ex" fill="#000000"><tspan>Q</tspan><tspan x="114" dy="-1em">_</tspan></text>
  <use xlink:href="#j_" stroke="#000000"/><use xlink:href="#k_" stroke="#000000"/><use xlink:href="#nands"/>
 </g>
</svg>
